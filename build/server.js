!function(e){function r(o){if(t[o])return t[o].exports;var n=t[o]={exports:{},id:o,loaded:!1};return e[o].call(n.exports,n,n.exports,r),n.loaded=!0,n.exports}var t={};return r.m=e,r.c=t,r.p="",r(0)}([function(e,r,t){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var n=t(1),i=o(n),u=t(2),s=o(u),a=t(3),l=o(a),c=t(4),f=o(c),R=t(5),d=o(R),p=t(6),E=o(p);t(7);var v=process.env.API_SERVER_PORT;v||(v=3006);var _=s.default.createProxyServer(),P="http://localhost:"+v,x=process.env.MAIN_SERVER_PORT;x||(x=3001);var T=(0,l.default)();T.use((0,E.default)("build/public/assets/favicon.ico")),T.use((0,f.default)()),T.use((0,d.default)("combined")),T.use(l.default.static("build/public")),T.all("/api/*",function(e,r){_.web(e,r,{target:P})}),T.get("/*",function(e,r){r.redirect("/")});var S=i.default.createServer(T),N=process.env.PORT||x;S.listen(N),S.on("listening",function(e){e?console.log("Main Server ERROR on startup: "+e):console.log("Main Server listening on http://localhost:"+N+".")})},function(e,r){e.exports=require("http")},function(e,r){e.exports=require("http-proxy")},function(e,r){e.exports=require("express")},function(e,r){e.exports=require("helmet")},function(e,r){e.exports=require("morgan")},function(e,r){e.exports=require("serve-favicon")},function(e,r,t){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var n=t(8),i=(o(n),t(9)),u=o(i);console.log("Environment: did NOT load environment variables from .env for production. This is not a problem if you define your environment variables outside of the file system as you should."),(0,u.default)(["REDIS_URL","DATABASE_URL","MAIN_SERVER_PORT","ACCOUNT_PEPPER_1","ACCOUNT_ENCRYPT_CURRENT_PEPPER","IDIER_WORKER_ID","TOKEN_PEPPER_1","TOKEN_ENCRYPT_CURRENT_PEPPER","SESSION_SECRET"])},function(e,r){e.exports=require("dotenv")},function(e,r){e.exports=require("require-environment-variables")}]);
//# sourceMappingURL=server.js.map